{"ast":null,"code":"var _jsxFileName = \"/Users/thadz/Desktop/SunSavings/fixedProfileAndTransfer/pnmobileapp/src/screens/DashboardScreen/accountHistory.js\";\nimport React, { useEffect } from \"react\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Container } from \"native-base\";\nimport { connect } from \"react-redux\";\nimport { getBankAccountHistoryAsync } from \"../../redux/bankAccount/actions\";\n\nvar numFixed = function numFixed(amount) {\n  amount = Math.abs(amount);\n  amount = amount.toFixed(2);\n  var str = amount.split(\".\");\n\n  if (str[0].length >= 4) {\n    str[0] = str[0].replace(/(\\d)(?=(\\d{3})+$)/g, \"$1,\");\n  }\n\n  if (str[1] && str[1].length >= 4) {\n    str[1] = str[1].replace(/(\\d{3})/g, \"$1 \");\n  }\n\n  return str.join(\".\");\n};\n\nexport var Item = function Item(props) {\n  var title = props.title,\n      date = props.date,\n      amount = props.amount,\n      index = props.index;\n  return React.createElement(View, {\n    style: [localStyles.listItem, {\n      backgroundColor: index % 2 == 0 ? \"#FFF\" : \"#FAFAFB\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 4,\n      flexDirection: \"column\",\n      justifyContent: \"space-between\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: localStyles.itemText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, title), React.createElement(Text, {\n    style: localStyles.dateText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, date)), React.createElement(View, {\n    style: {\n      flexGrow: 2,\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: [localStyles.amountText, {\n      color: Math.sign(amount) === -1 ? \"#679D1D\" : \"#DC6061\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, Math.sign(amount) === 1 ? \"PHP -\" + numFixed(amount) : \"PHP \" + numFixed(amount))));\n};\nexport var AccountHistory = function AccountHistory(props) {\n  var accountNumber = props.route.params.accountNumber,\n      _props$bankAccount = props.bankAccount,\n      list = _props$bankAccount.list,\n      listByIds = _props$bankAccount.listByIds,\n      historyList = _props$bankAccount.historyList,\n      status = _props$bankAccount.status,\n      getBankAccountHistory = props.getBankAccountHistory;\n  var arrayedHistoryList = historyList[accountNumber] ? Object.values(historyList[accountNumber]) : [];\n  useEffect(function () {\n    if (!historyList[accountNumber]) {\n      getBankAccountHistory(accountNumber, 10);\n    }\n  }, [accountNumber]);\n\n  if (status.isFetching) {\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      color: \"#f9a010\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: localStyles.viewHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: localStyles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"CURRENT BALANCE\"), React.createElement(View, {\n    style: localStyles.subtitle_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: localStyles.subtitle_static,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, list[accountNumber].accountCurrencyCode), React.createElement(Text, {\n    style: localStyles.subtitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, list[accountNumber].accountLedgerFormatted))), arrayedHistoryList && arrayedHistoryList.length > 0 && React.createElement(View, {\n    style: localStyles.viewAccounts,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: localStyles.bodyTitle_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: localStyles.bodyTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, \"TRANSACTIONS\")), React.createElement(SafeAreaView, {\n    style: localStyles.listStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, React.createElement(FlatList, {\n    data: arrayedHistoryList,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item,\n          index = _ref.index;\n      return React.createElement(Item, {\n        index: index,\n        title: item.title,\n        amount: item.amount,\n        date: item.date,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }))), arrayedHistoryList && arrayedHistoryList.length == 0 && React.createElement(View, {\n    style: {\n      flex: 4,\n      backgroundColor: \"#f2f4f5\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: localStyles.bodyTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, \"Empty Transactions\")));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var bankAccount = state.bankAccount;\n  return {\n    bankAccount: bankAccount\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getBankAccountHistory: function getBankAccountHistory(accountNumber, count) {\n      dispatch(getBankAccountHistoryAsync(accountNumber, count));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountHistory);\nvar localStyles = StyleSheet.create({\n  viewHeader: {\n    flex: 1,\n    backgroundColor: \"#309fe7\",\n    padding: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  viewAccounts: {\n    flex: 4,\n    backgroundColor: \"#f2f4f5\"\n  },\n  title: {\n    color: \"#FFFFFF\",\n    fontFamily: \"Avenir_Heavy\",\n    fontSize: 18,\n    marginBottom: 10\n  },\n  subtitle_container: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  subtitle_static: {\n    color: \"#FFFFFF\",\n    fontFamily: \"Avenir_Medium\",\n    fontSize: 20\n  },\n  subtitle: {\n    color: \"#FFFFFF\",\n    fontFamily: \"Avenir_Medium\",\n    fontSize: 50,\n    margin: 0\n  },\n  bodyTitle_container: {\n    marginVertical: 10,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  bodyTitle: {\n    color: \"#5D646C\",\n    marginBottom: 0,\n    fontFamily: \"Avenir_Medium\",\n    letterSpacing: 1.56,\n    textAlign: \"center\",\n    fontSize: 18\n  },\n  listStyle: {\n    flex: 1\n  },\n  listItem: {\n    display: \"flex\",\n    borderStyle: \"solid\",\n    paddingVertical: 12,\n    paddingHorizontal: 18,\n    flexDirection: \"row\"\n  },\n  itemText: {\n    textAlign: \"left\",\n    color: \"#444444\",\n    textTransform: \"capitalize\",\n    fontFamily: \"Avenir_Medium\",\n    fontSize: 16\n  },\n  dateText: {\n    textAlign: \"left\",\n    color: \"#868686\",\n    fontFamily: \"Avenir_Light\",\n    fontSize: 12\n  },\n  amountText: {\n    fontSize: 15,\n    textAlign: \"right\",\n    alignItems: \"center\",\n    fontFamily: \"Avenir_Medium\"\n  }\n});","map":{"version":3,"sources":["/Users/thadz/Desktop/SunSavings/fixedProfileAndTransfer/pnmobileapp/src/screens/DashboardScreen/accountHistory.js"],"names":["React","useEffect","Container","connect","getBankAccountHistoryAsync","numFixed","amount","Math","abs","toFixed","str","split","length","replace","join","Item","props","title","date","index","localStyles","listItem","backgroundColor","flex","flexDirection","justifyContent","itemText","dateText","flexGrow","amountText","color","sign","AccountHistory","accountNumber","route","params","bankAccount","list","listByIds","historyList","status","getBankAccountHistory","arrayedHistoryList","Object","values","isFetching","alignItems","viewHeader","subtitle_container","subtitle_static","accountCurrencyCode","subtitle","accountLedgerFormatted","viewAccounts","bodyTitle_container","bodyTitle","listStyle","item","id","mapStateToProps","state","mapDispatchToProps","dispatch","count","StyleSheet","create","padding","fontFamily","fontSize","marginBottom","margin","marginVertical","height","letterSpacing","textAlign","display","borderStyle","paddingVertical","paddingHorizontal","textTransform"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\n\nimport {\n  ActivityIndicator,\n  StyleSheet,\n  View,\n  SafeAreaView,\n  FlatList,\n  Text,\n} from \"react-native\";\nimport { Container } from \"native-base\";\n\nimport { connect } from \"react-redux\";\nimport { getBankAccountHistoryAsync } from \"../../redux/bankAccount/actions\";\n\nconst numFixed = (amount) => {\n  amount = Math.abs(amount);\n  amount = amount.toFixed(2);\n\n  let str = amount.split(\".\");\n  if (str[0].length >= 4) {\n    str[0] = str[0].replace(/(\\d)(?=(\\d{3})+$)/g, \"$1,\");\n  }\n  if (str[1] && str[1].length >= 4) {\n    str[1] = str[1].replace(/(\\d{3})/g, \"$1 \");\n  }\n  return str.join(\".\");\n};\n\nexport const Item = (props) => {\n  const { title, date, amount, index } = props;\n  return (\n    <View\n      style={[\n        localStyles.listItem,\n        { backgroundColor: index % 2 == 0 ? \"#FFF\" : \"#FAFAFB\" },\n      ]}\n    >\n      <View\n        style={{\n          flex: 4,\n          flexDirection: \"column\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <Text style={localStyles.itemText}>{title}</Text>\n        <Text style={localStyles.dateText}>{date}</Text>\n      </View>\n      <View style={{ flexGrow: 2, justifyContent: \"center\" }}>\n        <Text\n          style={[\n            localStyles.amountText,\n            { color: Math.sign(amount) === -1 ? \"#679D1D\" : \"#DC6061\" },\n          ]}\n        >\n          {Math.sign(amount) === 1\n            ? \"PHP -\" + numFixed(amount)\n            : \"PHP \" + numFixed(amount)}\n        </Text>\n      </View>\n    </View>\n  );\n};\n\nexport const AccountHistory = (props) => {\n  const {\n    route: {\n      params: { accountNumber },\n    },\n    bankAccount: { list, listByIds, historyList, status },\n    getBankAccountHistory,\n  } = props;\n  const arrayedHistoryList = historyList[accountNumber]\n    ? Object.values(historyList[accountNumber])\n    : [];\n\n  useEffect(() => {\n    if (!historyList[accountNumber]) {\n      getBankAccountHistory(accountNumber, 10);\n    }\n  }, [accountNumber]);\n\n  if (status.isFetching) {\n    return (\n      <View\n        style={{\n          flex: 1,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <ActivityIndicator size=\"large\" color=\"#f9a010\" />\n      </View>\n    );\n    \n  }\n\n  return (\n    <Container>\n      <View style={localStyles.viewHeader}>\n        <Text style={localStyles.title}>CURRENT BALANCE</Text>\n        <View style={localStyles.subtitle_container}>\n          <Text style={localStyles.subtitle_static}>\n            {list[accountNumber].accountCurrencyCode}\n          </Text>\n          <Text style={localStyles.subtitle}>\n            {list[accountNumber].accountLedgerFormatted}\n          </Text>\n        </View>\n      </View>\n\n      {arrayedHistoryList && arrayedHistoryList.length > 0 && (\n        <View style={localStyles.viewAccounts}>\n          <View style={localStyles.bodyTitle_container}>\n            <Text style={localStyles.bodyTitle}>TRANSACTIONS</Text>\n          </View>\n          <SafeAreaView style={localStyles.listStyle}>\n            <FlatList\n              data={arrayedHistoryList}\n              renderItem={({ item, index }) => (\n                <Item\n                  index={index}\n                  title={item.title}\n                  amount={item.amount}\n                  date={item.date}\n                />\n              )}\n              keyExtractor={(item) => item.id}\n            />\n          </SafeAreaView>\n        </View>\n      )}\n\n      {arrayedHistoryList && arrayedHistoryList.length == 0 && (\n        <View\n          style={{\n            flex: 4,\n            backgroundColor: \"#f2f4f5\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Text style={localStyles.bodyTitle}>Empty Transactions</Text>\n        </View>\n      )}\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const { bankAccount } = state;\n  return { bankAccount };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getBankAccountHistory: (accountNumber, count) => {\n      dispatch(getBankAccountHistoryAsync(accountNumber, count));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountHistory);\n\nlet localStyles = StyleSheet.create({\n  viewHeader: {\n    flex: 1,\n    backgroundColor: \"#309fe7\",\n    padding: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  viewAccounts: {\n    flex: 4,\n    backgroundColor: \"#f2f4f5\",\n  },\n  title: {\n    // color: \"#292929\",\n    color: \"#FFFFFF\",\n    fontFamily: \"Avenir_Heavy\",\n    // marginBottom: 10,\n    fontSize: 18,\n    marginBottom: 10,\n  },\n  subtitle_container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  subtitle_static: {\n    color: \"#FFFFFF\",\n    fontFamily: \"Avenir_Medium\",\n    fontSize: 20,\n  },\n  subtitle: {\n    // color: \"#555555\",\n    color: \"#FFFFFF\",\n    fontFamily: \"Avenir_Medium\",\n    fontSize: 50,\n    margin: 0,\n  },\n  bodyTitle_container: {\n    marginVertical: 10,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  bodyTitle: {\n    color: \"#5D646C\",\n    marginBottom: 0,\n    fontFamily: \"Avenir_Medium\",\n    letterSpacing: 1.56,\n    textAlign: \"center\",\n    fontSize: 18,\n  },\n  listStyle: {\n    flex: 1,\n  },\n  listItem: {\n    display: \"flex\",\n    borderStyle: \"solid\",\n    paddingVertical: 12,\n    paddingHorizontal: 18,\n    flexDirection: \"row\",\n  },\n  itemText: {\n    textAlign: \"left\",\n    color: \"#444444\",\n    textTransform: \"capitalize\",\n    fontFamily: \"Avenir_Medium\",\n    fontSize: 16,\n  },\n  dateText: {\n    textAlign: \"left\",\n    color: \"#868686\",\n    fontFamily: \"Avenir_Light\",\n    fontSize: 12,\n  },\n  amountText: {\n    fontSize: 15,\n    textAlign: \"right\",\n    alignItems: \"center\",\n    fontFamily: \"Avenir_Medium\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}