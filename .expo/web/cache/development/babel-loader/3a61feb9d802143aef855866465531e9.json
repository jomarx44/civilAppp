{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/thadz/Desktop/SunSavings/fixedProfileAndTransfer/pnmobileapp/src/screens/DashboardScreen/dashboard.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Accordion, Container, Icon, Text } from \"native-base\";\nimport { getProfileData, getAccessData } from \"store/profile\";\nimport { connect } from \"react-redux\";\nimport { profile as profileAPI } from \"../../API\";\nimport { setProfileData as _setProfileData } from \"../../actions/actionCreators\";\nimport API from \"../../actions/api\";\nimport { getProfileAsync } from \"../../redux/profile/actions\";\nimport { getBankAccountsAsync } from \"../../redux/bankAccount/actions\";\nimport { getBankAsync, getCivilStatusAsync, getHomeOwnershipAsync, getIdListAsync, getJobTitleAsync, getNationalityAsync, getSourceOfFundAsync } from \"../../redux/list/actions\";\nexport var AccountItemHeader = function AccountItemHeader(_ref) {\n  var item = _ref.item,\n      expanded = _ref.expanded,\n      headerStyle = _ref.headerStyle,\n      textStyle = _ref.textStyle,\n      textActiveStyle = _ref.textActiveStyle,\n      iconStyle = _ref.iconStyle,\n      iconActiveStyle = _ref.iconActiveStyle;\n  var title = item.title;\n  return React.createElement(View, {\n    style: [styles.defaultHeaderStyle, headerStyle],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: [expanded ? styles.defaultHeaderTextActiveStyle : styles.defaultHeaderTextStyle, expanded ? textActiveStyle : textStyle],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, title), React.createElement(Icon, {\n    style: [expanded ? styles.defaultIconActiveStyle : styles.defaultIconStyle, expanded ? iconActiveStyle : iconStyle],\n    name: expanded ? \"ios-arrow-up\" : \"ios-arrow-down\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }));\n};\nexport var AccountItemContainer = function AccountItemContainer(_ref2) {\n  var containerStyle = _ref2.containerStyle,\n      children = _ref2.children;\n  return React.createElement(View, {\n    style: [styles.defaultItemContainer, containerStyle],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, children);\n};\nexport var AccountItem = function AccountItem(_ref3) {\n  var onPress = _ref3.onPress,\n      _ref3$item = _ref3.item,\n      accountNumberFormatted = _ref3$item.accountNumberFormatted,\n      accountMainName = _ref3$item.accountMainName,\n      accountCurrencyCode = _ref3$item.accountCurrencyCode,\n      accountLedgerFormatted = _ref3$item.accountLedgerFormatted;\n  return React.createElement(TouchableOpacity, {\n    onPress: onPress,\n    style: itemStyles.defaultButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: itemStyles.defaultItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.cardTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, accountMainName), React.createElement(Text, {\n    style: styles.cardSubTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, accountNumberFormatted)), React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.cardTextBalanceValue,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, accountCurrencyCode + \" \" + accountLedgerFormatted), React.createElement(Text, {\n    style: styles.cardTextBalance,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"Current Balance\"))));\n};\nexport var AccountAddButton = function AccountAddButton(_ref4) {\n  var onPress = _ref4.onPress;\n  return React.createElement(TouchableOpacity, {\n    onPress: onPress,\n    style: itemStyles.defaultButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: [itemStyles.defaultItem, {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 3,\n      flexDirection: \"row\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.cardTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, \"Add Account\")), React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: \"flex-end\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, React.createElement(Icon, {\n    style: styles.iconArrow,\n    name: \"ios-arrow-forward\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }))));\n};\nexport var Dashboard = function Dashboard(props) {\n  var _profile$data6, _profile$data10, _profile$data10$attri, _profile$data11, _profile$data11$attri, _profile$data12, _profile$data13, _profile$data13$attri, _profile$data14;\n\n  var auth = props.auth,\n      bankAccount = props.bankAccount,\n      profile = props.profile,\n      user = props.user,\n      getBankAccounts = props.getBankAccounts,\n      getBank = props.getBank,\n      getCivilStatus = props.getCivilStatus,\n      getHomeOwnership = props.getHomeOwnership,\n      getIdList = props.getIdList,\n      getJobTitle = props.getJobTitle,\n      getNationality = props.getNationality,\n      getSourceOfFund = props.getSourceOfFund,\n      getProfile = props.getProfile,\n      navigation = props.navigation;\n\n  var _useState = useState({\n    LN: {\n      title: \"Loan Accounts\",\n      data: []\n    },\n    TD: {\n      title: \"Time Deposit\",\n      data: []\n    },\n    SA: {\n      title: \"Savings Account\",\n      data: []\n    }\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      accounts = _useState2[0],\n      setAccounts = _useState2[1];\n\n  useEffect(function () {\n    getProfile(user.info.sub);\n    getBank();\n    getCivilStatus();\n    getHomeOwnership();\n    getIdList();\n    getJobTitle();\n    getNationality();\n    getSourceOfFund();\n    navigation.navigate(\"Announcement\");\n  }, []);\n  useEffect(function () {\n    var _profile$data, _profile$data$attribu, _profile$data3, _profile$data3$attrib, _profile$data4, _profile$data4$attrib, _profile$data5, _profile$data5$attrib;\n\n    var _user$info = user.info,\n        firstName = _user$info.firstName,\n        middleName = _user$info.middleName,\n        lastName = _user$info.lastName,\n        emails = _user$info.emails,\n        phoneNumbers = _user$info.phoneNumbers;\n\n    if ((_profile$data = profile.data) == null ? void 0 : (_profile$data$attribu = _profile$data.attributes) == null ? void 0 : _profile$data$attribu.cis_no) {\n      var _profile$data2, _profile$data2$attrib;\n\n      getBankAccounts((_profile$data2 = profile.data) == null ? void 0 : (_profile$data2$attrib = _profile$data2.attributes) == null ? void 0 : _profile$data2$attrib.cis_no);\n    }\n\n    if (!((_profile$data3 = profile.data) == null ? void 0 : (_profile$data3$attrib = _profile$data3.attributes) == null ? void 0 : _profile$data3$attrib.name)) {\n      handleAddNameAtttribute(auth.accessToken, {\n        firstName: firstName,\n        middleName: middleName,\n        lastName: lastName\n      });\n    }\n\n    if (!((_profile$data4 = profile.data) == null ? void 0 : (_profile$data4$attrib = _profile$data4.attributes) == null ? void 0 : _profile$data4$attrib.email)) {\n      handleAddEmailAtttribute(auth.accessToken, {\n        email: emails[0].value\n      });\n    }\n\n    if (!((_profile$data5 = profile.data) == null ? void 0 : (_profile$data5$attrib = _profile$data5.attributes) == null ? void 0 : _profile$data5$attrib.phoneNumber)) {\n      handleAddPhoneNumberAtttribute(auth.accessToken, {\n        phoneNumber: phoneNumbers[0].value\n      });\n    }\n  }, [(_profile$data6 = profile.data) == null ? void 0 : _profile$data6.attributes]);\n  useEffect(function () {\n    if (!bankAccount.status.isFetching) {\n      if (bankAccount.list !== {} || !bankAccount.error) {\n        var arrayedAccounts = Object.values(bankAccount.list);\n        setAccounts(function (currentAccount) {\n          return _objectSpread(_objectSpread({}, currentAccount), {}, {\n            LN: _objectSpread(_objectSpread({}, currentAccount.LN), {}, {\n              data: arrayedAccounts.filter(function (account) {\n                return account.accountType === \"LN\";\n              })\n            }),\n            SA: _objectSpread(_objectSpread({}, currentAccount.SA), {}, {\n              data: arrayedAccounts.filter(function (account) {\n                return account.accountType === \"SA\";\n              })\n            }),\n            TD: _objectSpread(_objectSpread({}, currentAccount.TD), {}, {\n              data: arrayedAccounts.filter(function (account) {\n                return account.accountType === \"TD\";\n              })\n            })\n          });\n        });\n      }\n    }\n  }, [bankAccount.error, bankAccount.list]);\n\n  var handleAddNameAtttribute = function handleAddNameAtttribute(accessToken, _ref5) {\n    var firstName = _ref5.firstName,\n        middleName = _ref5.middleName,\n        lastName = _ref5.lastName;\n    profileAPI.addAttribute({\n      accessToken: accessToken,\n      attributeName: \"name\",\n      attributeValue: {\n        firstName: firstName,\n        middleName: middleName,\n        lastName: lastName\n      }\n    });\n  };\n\n  var handleAddEmailAtttribute = function handleAddEmailAtttribute(accessToken, _ref6) {\n    var email = _ref6.email;\n    profileAPI.addAttribute({\n      accessToken: accessToken,\n      attributeName: \"email\",\n      attributeValue: email\n    });\n  };\n\n  var handleAddPhoneNumberAtttribute = function handleAddPhoneNumberAtttribute(accessToken, _ref7) {\n    var phoneNumber = _ref7.phoneNumber;\n    profileAPI.addAttribute({\n      accessToken: accessToken,\n      attributeName: \"phoneNumber\",\n      attributeValue: phoneNumber\n    });\n  };\n\n  var handleRefresh = function handleRefresh() {\n    var _profile$data7, _profile$data8, _profile$data8$attrib;\n\n    console.log(\"Attributes: \", (_profile$data7 = profile.data) == null ? void 0 : _profile$data7.attributes);\n\n    if ((_profile$data8 = profile.data) == null ? void 0 : (_profile$data8$attrib = _profile$data8.attributes) == null ? void 0 : _profile$data8$attrib.cis_no) {\n      var _profile$data9, _profile$data9$attrib;\n\n      getBankAccounts((_profile$data9 = profile.data) == null ? void 0 : (_profile$data9$attrib = _profile$data9.attributes) == null ? void 0 : _profile$data9$attrib.cis_no);\n    }\n  };\n\n  var handleCardPress = function handleCardPress(accountNumber) {\n    navigation.navigate(\"AccountHistory\", accountNumber ? {\n      accountNumber: accountNumber\n    } : null);\n  };\n\n  var handleAdd = function handleAdd() {\n    navigation.navigate(\"ConnectCreateAccount\");\n  };\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.viewHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }\n  }, !profile.status.isFetching && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }\n  }, ((_profile$data10 = profile.data) == null ? void 0 : (_profile$data10$attri = _profile$data10.attributes) == null ? void 0 : _profile$data10$attri.name) ? ((_profile$data11 = profile.data) == null ? void 0 : (_profile$data11$attri = _profile$data11.attributes) == null ? void 0 : _profile$data11$attri.name.firstName) + \" \" + ((_profile$data12 = profile.data) == null ? void 0 : _profile$data12.attributes.name.lastName) : user.info.firstName + \" \" + user.info.lastName), React.createElement(Text, {\n    style: styles.subtitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }\n  }, ((_profile$data13 = profile.data) == null ? void 0 : (_profile$data13$attri = _profile$data13.attributes) == null ? void 0 : _profile$data13$attri.email) ? (_profile$data14 = profile.data) == null ? void 0 : _profile$data14.attributes.email : user.info.emails[0].value))), React.createElement(View, {\n    style: styles.viewAccounts,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }\n  }, React.createElement(Accordion, {\n    refreshControl: React.createElement(RefreshControl, {\n      refreshing: bankAccount.status.isFetching,\n      onRefresh: handleRefresh,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 13\n      }\n    }),\n    renderHeader: function renderHeader(item, expanded) {\n      return React.createElement(AccountItemHeader, {\n        item: item,\n        expanded: expanded,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }\n      });\n    },\n    renderContent: function renderContent(items) {\n      return React.createElement(AccountItemContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 15\n        }\n      }, items.data && items.data.map(function (account, id) {\n        return React.createElement(AccountItem, {\n          key: id,\n          item: account,\n          onPress: function onPress() {\n            return handleCardPress(account.accountNumberFormatted);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 23\n          }\n        });\n      }), React.createElement(AccountAddButton, {\n        onPress: handleAdd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 17\n        }\n      }));\n    },\n    dataArray: Object.values(accounts),\n    contentStyle: {\n      backgroundColor: \"#ddecf8\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }\n  })));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var auth = state.auth,\n      bankAccount = state.bankAccount,\n      profile = state.profile,\n      user = state.user;\n  return {\n    auth: auth,\n    bankAccount: bankAccount,\n    profile: profile,\n    user: user\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getProfile: function getProfile(subId) {\n      dispatch(getProfileAsync(subId));\n    },\n    getBankAccounts: function getBankAccounts(CISNumber) {\n      dispatch(getBankAccountsAsync(CISNumber));\n    },\n    getAccounts: function getAccounts(cisno) {\n      dispatch(API.getAccounts(cisno));\n    },\n    setProfileData: function setProfileData(data) {\n      dispatch(_setProfileData(data));\n    },\n    getBank: function getBank() {\n      dispatch(getBankAsync());\n    },\n    getCivilStatus: function getCivilStatus() {\n      dispatch(getCivilStatusAsync());\n    },\n    getHomeOwnership: function getHomeOwnership() {\n      dispatch(getHomeOwnershipAsync());\n    },\n    getIdList: function getIdList() {\n      dispatch(getIdListAsync());\n    },\n    getJobTitle: function getJobTitle() {\n      dispatch(getJobTitleAsync());\n    },\n    getNationality: function getNationality() {\n      dispatch(getNationalityAsync());\n    },\n    getSourceOfFund: function getSourceOfFund() {\n      dispatch(getSourceOfFundAsync());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\nvar itemStyles = StyleSheet.create({\n  defaultContainer: {\n    marginVertical: 20\n  },\n  defaultButton: {\n    paddingHorizontal: 20,\n    paddingVertical: 5\n  },\n  defaultItem: {\n    flex: 1,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    backgroundColor: \"#ffffff\",\n    borderTopWidth: 1,\n    borderTopColor: \"#e5eced\",\n    borderLeftWidth: 3,\n    borderLeftColor: \"#f9a010\",\n    borderRightWidth: 1,\n    borderRightColor: \"#e5eced\",\n    borderRadius: 5\n  }\n});\nvar styles = StyleSheet.create({\n  viewHeader: {\n    flex: 1,\n    backgroundColor: \"#309fe7\",\n    padding: 20,\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  defaultItemContainer: {\n    marginVertical: 20\n  },\n  card: {},\n  cardTitle: {\n    color: \"#444444\",\n    fontSize: 15,\n    fontFamily: \"Avenir_Heavy\"\n  },\n  cardSubTitle: {\n    color: \"#5d646c\",\n    fontSize: 11,\n    fontFamily: \"Avenir_Book\"\n  },\n  cardTextBalanceValue: {\n    textAlign: \"right\",\n    color: \"#3e4a59\",\n    fontSize: 17,\n    fontFamily: \"Avenir_Heavy\"\n  },\n  cardTextBalance: {\n    textAlign: \"right\",\n    fontSize: 9,\n    color: \"#5d646c\",\n    fontFamily: \"Avenir_Book\"\n  },\n  defaultHeaderStyle: {\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginTop: -1,\n    borderWidth: 1,\n    borderColor: \"#cbcdd0\"\n  },\n  defaultHeaderTextStyle: {\n    fontFamily: \"Avenir_Medium\",\n    marginLeft: 20,\n    color: \"#5d646c\",\n    fontSize: 16\n  },\n  defaultHeaderTextActiveStyle: {\n    fontFamily: \"Avenir_Medium\",\n    marginLeft: 20,\n    color: \"#f5ac14\",\n    fontSize: 16\n  },\n  defaultIconStyle: {\n    marginTop: 16,\n    marginBottom: 16,\n    marginRight: 32,\n    color: \"#5d646c\"\n  },\n  defaultIconActiveStyle: {\n    marginTop: 16,\n    marginBottom: 16,\n    marginRight: 30,\n    color: \"#309fe7\"\n  },\n  iconArrow: {\n    color: \"#5d646c\"\n  },\n  title: {\n    color: \"#ffffff\",\n    fontSize: 18,\n    fontFamily: \"Avenir_Heavy\",\n    marginBottom: 3\n  },\n  subtitle: {\n    color: \"#ffffff\",\n    opacity: 0.7,\n    fontSize: 12,\n    fontFamily: \"Avenir_Medium\"\n  },\n  viewAccounts: {\n    flex: 7,\n    backgroundColor: \"#f2f4f5\"\n  }\n});","map":{"version":3,"sources":["/Users/thadz/Desktop/SunSavings/fixedProfileAndTransfer/pnmobileapp/src/screens/DashboardScreen/dashboard.js"],"names":["React","useEffect","useState","Accordion","Container","Icon","Text","getProfileData","getAccessData","connect","profile","profileAPI","setProfileData","API","getProfileAsync","getBankAccountsAsync","getBankAsync","getCivilStatusAsync","getHomeOwnershipAsync","getIdListAsync","getJobTitleAsync","getNationalityAsync","getSourceOfFundAsync","AccountItemHeader","item","expanded","headerStyle","textStyle","textActiveStyle","iconStyle","iconActiveStyle","title","styles","defaultHeaderStyle","defaultHeaderTextActiveStyle","defaultHeaderTextStyle","defaultIconActiveStyle","defaultIconStyle","AccountItemContainer","containerStyle","children","defaultItemContainer","AccountItem","onPress","accountNumberFormatted","accountMainName","accountCurrencyCode","accountLedgerFormatted","itemStyles","defaultButton","defaultItem","flex","cardTitle","cardSubTitle","cardTextBalanceValue","cardTextBalance","AccountAddButton","flexDirection","justifyContent","alignItems","iconArrow","Dashboard","props","auth","bankAccount","user","getBankAccounts","getBank","getCivilStatus","getHomeOwnership","getIdList","getJobTitle","getNationality","getSourceOfFund","getProfile","navigation","LN","data","TD","SA","accounts","setAccounts","info","sub","navigate","firstName","middleName","lastName","emails","phoneNumbers","attributes","cis_no","name","handleAddNameAtttribute","accessToken","email","handleAddEmailAtttribute","value","phoneNumber","handleAddPhoneNumberAtttribute","status","isFetching","list","error","arrayedAccounts","Object","values","currentAccount","filter","account","accountType","addAttribute","attributeName","attributeValue","handleRefresh","console","log","handleCardPress","accountNumber","handleAdd","viewHeader","subtitle","viewAccounts","items","map","id","backgroundColor","mapStateToProps","state","mapDispatchToProps","dispatch","subId","CISNumber","getAccounts","cisno","StyleSheet","create","defaultContainer","marginVertical","paddingHorizontal","paddingVertical","borderTopWidth","borderTopColor","borderLeftWidth","borderLeftColor","borderRightWidth","borderRightColor","borderRadius","padding","card","color","fontSize","fontFamily","textAlign","marginTop","borderWidth","borderColor","marginLeft","marginBottom","marginRight","opacity"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  ActivityIndicator,\n  AsyncStorage,\n  RefreshControl,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport { Accordion, Container, Icon, Text } from \"native-base\";\n\n// Others\nimport { getProfileData, getAccessData } from \"store/profile\";\nimport { connect } from \"react-redux\";\nimport { profile as profileAPI } from \"../../API\";\nimport { setProfileData } from \"../../actions/actionCreators\";\nimport API from \"../../actions/api\";\n\nimport { getProfileAsync } from \"../../redux/profile/actions\";\nimport { getBankAccountsAsync } from \"../../redux/bankAccount/actions\";\nimport {\n  getBankAsync,\n  getCivilStatusAsync,\n  getHomeOwnershipAsync,\n  getIdListAsync,\n  getJobTitleAsync,\n  getNationalityAsync,\n  getSourceOfFundAsync,\n} from \"../../redux/list/actions\";\n\nexport const AccountItemHeader = ({\n  item,\n  expanded,\n  headerStyle,\n  textStyle,\n  textActiveStyle,\n  iconStyle,\n  iconActiveStyle,\n}) => {\n  const { title } = item;\n  return (\n    <View style={[styles.defaultHeaderStyle, headerStyle]}>\n      <Text\n        style={[\n          expanded\n            ? styles.defaultHeaderTextActiveStyle\n            : styles.defaultHeaderTextStyle,\n          expanded ? textActiveStyle : textStyle,\n        ]}\n      >\n        {title}\n      </Text>\n      <Icon\n        style={[\n          expanded ? styles.defaultIconActiveStyle : styles.defaultIconStyle,\n          expanded ? iconActiveStyle : iconStyle,\n        ]}\n        name={expanded ? \"ios-arrow-up\" : \"ios-arrow-down\"}\n      />\n    </View>\n  );\n};\n\nexport const AccountItemContainer = ({ containerStyle, children }) => {\n  return (\n    <View style={[styles.defaultItemContainer, containerStyle]}>\n      {children}\n    </View>\n  );\n};\n\nexport const AccountItem = ({\n  onPress,\n  item: {\n    accountNumberFormatted,\n    accountMainName,\n    accountCurrencyCode,\n    accountLedgerFormatted,\n  },\n}) => {\n  return (\n    <TouchableOpacity onPress={onPress} style={itemStyles.defaultButton}>\n      <View style={itemStyles.defaultItem}>\n        <View style={{ flex: 1 }}>\n          <Text style={styles.cardTitle}>{accountMainName}</Text>\n          <Text style={styles.cardSubTitle}>{accountNumberFormatted}</Text>\n        </View>\n        <View style={{ flex: 1 }}>\n          <Text\n            style={styles.cardTextBalanceValue}\n          >{`${accountCurrencyCode} ${accountLedgerFormatted}`}</Text>\n          <Text style={styles.cardTextBalance}>Current Balance</Text>\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nexport const AccountAddButton = ({ onPress }) => {\n  return (\n    <TouchableOpacity onPress={onPress} style={itemStyles.defaultButton}>\n      <View\n        style={[\n          itemStyles.defaultItem,\n          { flexDirection: \"row\", justifyContent: \"space-between\" },\n        ]}\n      >\n        <View style={{ flex: 3, flexDirection: \"row\", alignItems: \"center\" }}>\n          <Text style={styles.cardTitle}>Add Account</Text>\n        </View>\n        <View style={{ flex: 1, alignItems: \"flex-end\" }}>\n          <Icon style={styles.iconArrow} name=\"ios-arrow-forward\" />\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nexport const Dashboard = (props) => {\n  const {\n    auth,\n    bankAccount,\n    profile,\n    user,\n    getBankAccounts,\n    getBank,\n    getCivilStatus,\n    getHomeOwnership,\n    getIdList,\n    getJobTitle,\n    getNationality,\n    getSourceOfFund,\n    getProfile,\n    navigation,\n  } = props;\n\n  const [accounts, setAccounts] = useState({\n    LN: {\n      title: \"Loan Accounts\",\n      data: [],\n    },\n    TD: {\n      title: \"Time Deposit\",\n      data: [],\n    },\n    SA: {\n      title: \"Savings Account\",\n      data: [],\n    },\n  });\n\n  useEffect(() => {\n    getProfile(user.info.sub);\n    getBank();\n    getCivilStatus();\n    getHomeOwnership();\n    getIdList();\n    getJobTitle();\n    getNationality();\n    getSourceOfFund();\n    navigation.navigate(\"Announcement\");\n  }, []);\n\n  useEffect(() => {\n    const { firstName, middleName, lastName, emails, phoneNumbers } = user.info;\n    if (profile.data?.attributes?.cis_no) {\n      // getBankAccounts(profile.data?.attributes?.CISNumber)\n      getBankAccounts(profile.data?.attributes?.cis_no);\n    }\n\n    if (!profile.data?.attributes?.name) {\n      handleAddNameAtttribute(auth.accessToken, { firstName, middleName, lastName })\n    }\n\n    if (!profile.data?.attributes?.email) {\n      handleAddEmailAtttribute(auth.accessToken, { email: emails[0].value })\n    }\n\n    if (!profile.data?.attributes?.phoneNumber) {\n      handleAddPhoneNumberAtttribute(auth.accessToken, { phoneNumber: phoneNumbers[0].value })\n    }\n  }, [profile.data?.attributes]);\n\n  // Fetch Bank List\n  useEffect(() => {\n    if (!bankAccount.status.isFetching) {\n      if (bankAccount.list !== {} || !bankAccount.error) {\n        const arrayedAccounts = Object.values(bankAccount.list);\n        setAccounts((currentAccount) => ({\n          ...currentAccount,\n          LN: {\n            ...currentAccount.LN,\n            data: arrayedAccounts.filter(\n              (account) => account.accountType === \"LN\"\n            ),\n          },\n          SA: {\n            ...currentAccount.SA,\n            data: arrayedAccounts.filter(\n              (account) => account.accountType === \"SA\"\n            ),\n          },\n          TD: {\n            ...currentAccount.TD,\n            data: arrayedAccounts.filter(\n              (account) => account.accountType === \"TD\"\n            ),\n          },\n        }));\n      }\n    }\n  }, [bankAccount.error, bankAccount.list]);\n\n  // Add Default Name Attribute\n  const handleAddNameAtttribute = (accessToken, {firstName, middleName, lastName}) => {\n    profileAPI.addAttribute({\n      accessToken: accessToken,\n      attributeName: \"name\",\n      attributeValue: {\n        firstName,\n        middleName,\n        lastName,\n      },\n    });\n  };\n\n  // Add Default Email Attribute\n  const handleAddEmailAtttribute = (accessToken, {email}) => {\n    profileAPI.addAttribute({\n      accessToken: accessToken,\n      attributeName: \"email\",\n      attributeValue: email,\n    });\n  };\n\n  // Add Default PHone Number Attribute\n  const handleAddPhoneNumberAtttribute = (accessToken, {phoneNumber}) => {\n    profileAPI.addAttribute({\n      accessToken: accessToken,\n      attributeName: \"phoneNumber\",\n      attributeValue: phoneNumber,\n    });\n  };\n\n  const handleRefresh = () => {\n    console.log(\"Attributes: \", profile.data?.attributes)\n    if (profile.data?.attributes?.cis_no) {\n      getBankAccounts(profile.data?.attributes?.cis_no);\n    }\n  };\n\n  const handleCardPress = (accountNumber) => {\n    navigation.navigate(\n      \"AccountHistory\",\n      accountNumber ? { accountNumber: accountNumber } : null\n    );\n  };\n\n  const handleAdd = () => {\n    navigation.navigate(\"ConnectCreateAccount\");\n  };\n\n  return (\n    <Container>\n      <View style={styles.viewHeader}>\n        {!profile.status.isFetching && (\n          <React.Fragment>\n            <Text style={styles.title}>\n              {profile.data?.attributes?.name\n                ? `${profile.data?.attributes?.name.firstName} ${profile.data?.attributes.name.lastName}`\n                : `${user.info.firstName} ${user.info.lastName}`}\n            </Text>\n            <Text style={styles.subtitle}>\n              {profile.data?.attributes?.email\n                ? profile.data?.attributes.email\n                : user.info.emails[0].value\n              }\n            </Text>\n          </React.Fragment>\n        )}\n      </View>\n      <View style={styles.viewAccounts}>\n        <Accordion\n          refreshControl={\n            <RefreshControl\n              refreshing={bankAccount.status.isFetching}\n              onRefresh={handleRefresh}\n            />\n          }\n          renderHeader={(item, expanded) => (\n            <AccountItemHeader item={item} expanded={expanded} />\n          )}\n          renderContent={(items) => {\n            return (\n              <AccountItemContainer>\n                {items.data &&\n                  items.data.map((account, id) => {\n                    return (\n                      <AccountItem\n                        key={id}\n                        item={account}\n                        onPress={() =>\n                          handleCardPress(account.accountNumberFormatted)\n                        }\n                      />\n                    );\n                  })}\n                <AccountAddButton onPress={handleAdd} />\n              </AccountItemContainer>\n            );\n          }}\n          dataArray={Object.values(accounts)}\n          contentStyle={{ backgroundColor: \"#ddecf8\" }}\n        />\n      </View>\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const { auth, bankAccount, profile, user } = state;\n  return { auth, bankAccount, profile, user };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getProfile: (subId) => {\n      dispatch(getProfileAsync(subId));\n    },\n    getBankAccounts: (CISNumber) => {\n      dispatch(getBankAccountsAsync(CISNumber));\n    },\n    getAccounts: (cisno) => {\n      dispatch(API.getAccounts(cisno));\n    },\n    setProfileData: (data) => {\n      dispatch(setProfileData(data));\n    },\n    getBank: () => {\n      dispatch(getBankAsync());\n    },\n    getCivilStatus: () => {\n      dispatch(getCivilStatusAsync());\n    },\n    getHomeOwnership: () => {\n      dispatch(getHomeOwnershipAsync());\n    },\n    getIdList: () => {\n      dispatch(getIdListAsync());\n    },\n    getJobTitle: () => {\n      dispatch(getJobTitleAsync());\n    },\n    getNationality: () => {\n      dispatch(getNationalityAsync());\n    },\n    getSourceOfFund: () => {\n      dispatch(getSourceOfFundAsync());\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\n\nconst itemStyles = StyleSheet.create({\n  defaultContainer: {\n    marginVertical: 20,\n  },\n  defaultButton: {\n    paddingHorizontal: 20,\n    paddingVertical: 5,\n  },\n  defaultItem: {\n    flex: 1,\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    backgroundColor: \"#ffffff\",\n    borderTopWidth: 1,\n    borderTopColor: \"#e5eced\",\n    borderLeftWidth: 3,\n    borderLeftColor: \"#f9a010\",\n    borderRightWidth: 1,\n    borderRightColor: \"#e5eced\",\n    borderRadius: 5,\n  },\n});\n\nconst styles = StyleSheet.create({\n  viewHeader: {\n    flex: 1,\n    backgroundColor: \"#309fe7\",\n    padding: 20,\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n  defaultItemContainer: {\n    marginVertical: 20,\n  },\n  card: {},\n  cardTitle: {\n    color: \"#444444\",\n    fontSize: 15,\n    fontFamily: \"Avenir_Heavy\",\n  },\n  cardSubTitle: {\n    color: \"#5d646c\",\n    fontSize: 11,\n    fontFamily: \"Avenir_Book\",\n  },\n  cardTextBalanceValue: {\n    textAlign: \"right\",\n    color: \"#3e4a59\",\n    fontSize: 17,\n    fontFamily: \"Avenir_Heavy\",\n  },\n  cardTextBalance: {\n    textAlign: \"right\",\n    fontSize: 9,\n    color: \"#5d646c\",\n    fontFamily: \"Avenir_Book\",\n  },\n  defaultHeaderStyle: {\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginTop: -1,\n    borderWidth: 1,\n    borderColor: \"#cbcdd0\",\n  },\n  defaultHeaderTextStyle: {\n    fontFamily: \"Avenir_Medium\",\n    marginLeft: 20,\n    color: \"#5d646c\",\n    fontSize: 16,\n  },\n  defaultHeaderTextActiveStyle: {\n    fontFamily: \"Avenir_Medium\",\n    marginLeft: 20,\n    color: \"#f5ac14\",\n    fontSize: 16,\n  },\n  defaultIconStyle: {\n    marginTop: 16,\n    marginBottom: 16,\n    marginRight: 32,\n    color: \"#5d646c\",\n  },\n  defaultIconActiveStyle: {\n    marginTop: 16,\n    marginBottom: 16,\n    marginRight: 30,\n    color: \"#309fe7\",\n  },\n  iconArrow: {\n    color: \"#5d646c\",\n  },\n  title: {\n    color: \"#ffffff\",\n    fontSize: 18,\n    fontFamily: \"Avenir_Heavy\",\n    marginBottom: 3,\n  },\n  subtitle: {\n    color: \"#ffffff\",\n    opacity: 0.7,\n    fontSize: 12,\n    fontFamily: \"Avenir_Medium\",\n  },\n  viewAccounts: {\n    flex: 7,\n    backgroundColor: \"#f2f4f5\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}